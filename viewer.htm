<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap-theme.min.css" rel="stylesheet">
</head>

<style>
td {
text-align: center;

}
.main td {
width:16%
}
.main img {
width:100%
}
.main video {
width:100%
}
img {
image-rendering: pixelated;
}
</style>

Study: <span id="study"></span><br>
Prediction: <span id="pred"></span>
<hr>
<table>
	<tr class="main">
		<td class="option">Input image <img id="image" style="width:100%" /></td>
		<td class="option">grad <img id="grad" style="width:100%" /></td>
		<td class="option">guided <img id="guided" style="width:100%"/></td>
		<td class="option">integrated <img id="integrated" style="width:100%" /></td>
		<td class="option">latentshift-2D <img id="latentshift-max" style="width:100%" /></td>
		<td class="option">latentshift <video style="width:100%"  autoplay loop muted>
				<source id="latentshift" type="video/mp4">
				Your browser does not support the video tag.
			</video></td>
	</tr>
</table>
<hr>
<div id="viewer">
Click to view an image<Br>
</div>


<script>

var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
};
    
    
var img = getUrlParameter("img")
$("#study").text("Loading...");
$.getJSON("images/" + img + ".json", function( data ) {
	console.log(data);
	thisdata = data
	$("#image")[0].src = data.attribs["image"]
	$("#grad")[0].src = data.attribs["grad"]
	$("#integrated")[0].src = data.attribs["integrated"]
	$("#guided")[0].src = data.attribs["guided"]
	$("#latentshift-max")[0].src = data.attribs["latentshift-max"]
	$("#latentshift")[0].src = data.attribs["latentshift"]
	$("#latentshift").parent()[0].load()
	
	$("#study").text(data["id"])
	
	$("#pred").text(thisdata["target"] + " -> " + parseFloat(thisdata["pred"].toFixed(2)))
	
	}).fail(function() {
		$("#study").text("Failed loading this study!!!!");
	  });
    
$(".option").click(function(){
	
	$("#viewer").empty()
	thing = $(this).clone()
	thing = thing.css("width","1000px")
	$("#viewer").append(thing)
});

	
</script>


